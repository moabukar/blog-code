# Pomerium Secrets
# IMPORTANT: Replace placeholder values before applying!
# Consider using External Secrets Operator or Sealed Secrets in production.

apiVersion: v1
kind: Secret
metadata:
  name: pomerium-secrets
  namespace: pomerium
type: Opaque
stringData:
  # OAuth2 credentials from your IdP (Google, Okta, Azure AD)
  idp-client-id: "your-client-id.apps.googleusercontent.com"
  idp-client-secret: "your-client-secret"
  
  # Generate with: head -c32 /dev/urandom | base64
  cookie-secret: "your-32-byte-base64-encoded-secret"
  
  # Generate with: head -c32 /dev/urandom | base64
  shared-secret: "your-32-byte-base64-encoded-secret"

---
# For Google Workspace (optional) - enables group-based policies
apiVersion: v1
kind: Secret
metadata:
  name: pomerium-google-sa
  namespace: pomerium
type: Opaque
stringData:
  # Service account JSON for Google Workspace Directory API
  # Required for group membership lookups
  service-account.json: |
    {
      "type": "service_account",
      "project_id": "your-project",
      "private_key_id": "xxx",
      "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
      "client_email": "pomerium@your-project.iam.gserviceaccount.com",
      "client_id": "123456789",
      "auth_uri": "https://accounts.google.com/o/oauth2/auth",
      "token_uri": "https://oauth2.googleapis.com/token"
    }
